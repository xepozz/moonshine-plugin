<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.xepozz.moonshine</id>
    <name>MoonShine</name>
    <vendor email="xepozz@list.ru" url="https://github.com/xepozz">Dmitrii Derepko</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.jetbrains.php</depends>

    <resource-bundle>messages.Moonshine</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <fileBasedIndex
                implementation="com.github.xepozz.moonshine.index.ResourcesIndex"/>
        <fileBasedIndex
                implementation="com.github.xepozz.moonshine.index.PagesIndex"/>
        <fileBasedIndex
                implementation="com.github.xepozz.moonshine.index.FieldsIndex"/>
        <codeInsight.lineMarkerProvider
                language="PHP"
                implementationClass="com.github.xepozz.moonshine.lineMarkers.ResourceLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider
                language="PHP"
                implementationClass="com.github.xepozz.moonshine.lineMarkers.ModelLineMarkerProvider"/>
        <intentionAction>
            <language>PHP</language>
            <className>com.github.xepozz.moonshine.intentions.NewResourceIntention</className>
        </intentionAction>

        <directoryProjectGenerator
                implementation="com.github.xepozz.moonshine.scaffolder.project.MoonshineProjectGenerator" />
        <moduleBuilder
                builderClass="com.github.xepozz.moonshine.scaffolder.project.MoonshineModuleBuilder" />

        <notificationGroup id="MoonShine Debug"
                           displayType="BALLOON"
                           key="notification.group.debug.name"/>
    </extensions>
    <actions>
        <group
                id="MoonShine New"
                text="MoonShine"
                icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                popup="true"
                compact="true"
        >

            <action
                    id="moonshine.ApplyNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.AbstractNewAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Apply"/>
            <action
                    id="moonshine.ComponentNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.AbstractNewAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Component"/>
            <action
                    id="moonshine.ControllerNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.AbstractNewAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Controller"/>
            <action
                    id="moonshine.FieldNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.AbstractNewAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Field"/>
            <action
                    id="moonshine.HandlerNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.AbstractNewAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Handler"/>
            <action
                    id="moonshine.LayoutNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.AbstractNewAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Layout"/>
            <action
                    id="moonshine.PageNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.NewPageAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Page"/>
            <action
                    id="moonshine.PolicyNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.AbstractNewAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Policy"/>
            <action
                    id="moonshine.ResourceNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.NewResourceAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Resource"/>
            <action
                    id="moonshine.TypeCastNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.AbstractNewAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="Type Cast"/>
            <action
                    id="moonshine.UserNewAction"
                    class="com.github.xepozz.moonshine.scaffolder.AbstractNewAction"
                    icon="com.github.xepozz.moonshine.MoonshineIcons.MOONSHINE"
                    text="User"/>

            <add-to-group
                    group-id="PhpNewGroup"
                    relative-to-action="PhpNewClass"
                    anchor="after"
            />
        </group>
    </actions>
</idea-plugin>
